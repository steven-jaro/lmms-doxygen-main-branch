<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.15.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LMMS: _LV2_State_Interface Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">LMMS
   </div>
   <div id="projectbrief">Linux MultiMedia Studio - Complete Codebase</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.15.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('struct__LV2__State__Interface.html','','struct__LV2__State__Interface-members'); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">_LV2_State_Interface Struct Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="lv2__state_8h_source.html">lv2_state.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for _LV2_State_Interface:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" loading="lazy" frameborder="0" src="struct__LV2__State__Interface__coll__graph.svg" width="148" height="98"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-attribs" class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ae564742663a6d908d9745c9eb8bdb347" id="r_ae564742663a6d908d9745c9eb8bdb347"><td class="memItemLeft" align="right" valign="top"><a class="el" href="lv2__state_8h.html#afb5cc1033410d51fdcdbfdd09fc7d808">LV2_State_Status</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae564742663a6d908d9745c9eb8bdb347">save</a> )(<a class="el" href="group__lv2core.html#ga95eafb0a5290f30bcdc8c0f8eb992eaf">LV2_Handle</a> instance, <a class="el" href="lv2__state_8h.html#a609f1abc2c5891f85c276f52394cb6d6">LV2_State_Store_Function</a> store, <a class="el" href="lv2__state_8h.html#a385b5b586c09dd03f1065cd0105daa6d">LV2_State_Handle</a> handle, <a class="el" href="mid_8cpp.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> flags, <a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="structLV2__Feature.html">LV2_Feature</a> *<a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> *features)</td></tr>
<tr class="memitem:af1b48ea50175bfef63d4dd35d09d90b8" id="r_af1b48ea50175bfef63d4dd35d09d90b8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="lv2__state_8h.html#afb5cc1033410d51fdcdbfdd09fc7d808">LV2_State_Status</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af1b48ea50175bfef63d4dd35d09d90b8">restore</a> )(<a class="el" href="group__lv2core.html#ga95eafb0a5290f30bcdc8c0f8eb992eaf">LV2_Handle</a> instance, <a class="el" href="lv2__state_8h.html#ad5e8b195b1d389bd1026612d09c273b0">LV2_State_Retrieve_Function</a> retrieve, <a class="el" href="lv2__state_8h.html#a385b5b586c09dd03f1065cd0105daa6d">LV2_State_Handle</a> handle, <a class="el" href="mid_8cpp.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> flags, <a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="structLV2__Feature.html">LV2_Feature</a> *<a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> *features)</td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<div class="textblock"><p>LV2 <a class="el" href="classPlugin.html">Plugin</a> <a class="el" href="structState.html">State</a> Interface.</p>
<p>When the plugin's extension_data is called with argument LV2_STATE__interface, the plugin MUST return an <a class="el" href="structLV2__State__Interface.html">LV2_State_Interface</a> structure, which remains valid for the lifetime of the plugin.</p>
<p>The host can use the contained function pointers to save and restore the state of a plugin instance at any time, provided the threading restrictions of the functions are met.</p>
<p>Stored data is only guaranteed to be compatible between instances of plugins with the same URI (i.e. if a change to a plugin would cause a fatal error when restoring state saved by a previous version of that plugin, the plugin URI MUST change just as it must when ports change incompatibly). <a class="el" href="classPlugin.html">Plugin</a> authors should consider this possibility, and always store sensible data with meaningful types to avoid such problems in the future. </p>
</div><a name="doc-variable-members" id="doc-variable-members"></a><h2 id="header-doc-variable-members" class="groupheader">Member Data Documentation</h2>
<a id="af1b48ea50175bfef63d4dd35d09d90b8" name="af1b48ea50175bfef63d4dd35d09d90b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1b48ea50175bfef63d4dd35d09d90b8">&#9670;&#160;</a></span>restore</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="lv2__state_8h.html#afb5cc1033410d51fdcdbfdd09fc7d808">LV2_State_Status</a>(* _LV2_State_Interface::restore) (<a class="el" href="group__lv2core.html#ga95eafb0a5290f30bcdc8c0f8eb992eaf">LV2_Handle</a> instance, <a class="el" href="lv2__state_8h.html#ad5e8b195b1d389bd1026612d09c273b0">LV2_State_Retrieve_Function</a> retrieve, <a class="el" href="lv2__state_8h.html#a385b5b586c09dd03f1065cd0105daa6d">LV2_State_Handle</a> handle, <a class="el" href="mid_8cpp.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> flags, <a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="structLV2__Feature.html">LV2_Feature</a> *<a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> *features)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Restore plugin state using a host-provided <code class="param">retrieve</code> callback.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>The instance handle of the plugin. </td></tr>
    <tr><td class="paramname">retrieve</td><td>The host-provided retrieve callback. </td></tr>
    <tr><td class="paramname">handle</td><td>An opaque pointer to host data which MUST be passed as the handle parameter to <code class="param">retrieve</code> if it is called. </td></tr>
    <tr><td class="paramname">flags</td><td>Currently unused. </td></tr>
    <tr><td class="paramname">features</td><td>Extensible parameter for passing any additional features to be used for this restore.</td></tr>
  </table>
  </dd>
</dl>
<p>The plugin MAY assume a restored value was set by a previous call to <a class="el" href="#ae564742663a6d908d9745c9eb8bdb347">LV2_State_Interface.save()</a> by a plugin with the same URI.</p>
<p>The plugin MUST gracefully fall back to a default value when a value can not be retrieved. This allows the host to reset the plugin state with an empty map.</p>
<p>The <code class="param">handle</code> pointer and <code class="param">store</code> function MUST NOT be used beyond the scope of <a class="el" href="#af1b48ea50175bfef63d4dd35d09d90b8">restore()</a>.</p>
<p>This function is in the "Instantiation" threading class as defined by LV2. This means it MUST NOT be called concurrently with any other function on the same plugin instance. </p>

</div>
</div>
<a id="ae564742663a6d908d9745c9eb8bdb347" name="ae564742663a6d908d9745c9eb8bdb347"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae564742663a6d908d9745c9eb8bdb347">&#9670;&#160;</a></span>save</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="lv2__state_8h.html#afb5cc1033410d51fdcdbfdd09fc7d808">LV2_State_Status</a>(* _LV2_State_Interface::save) (<a class="el" href="group__lv2core.html#ga95eafb0a5290f30bcdc8c0f8eb992eaf">LV2_Handle</a> instance, <a class="el" href="lv2__state_8h.html#a609f1abc2c5891f85c276f52394cb6d6">LV2_State_Store_Function</a> store, <a class="el" href="lv2__state_8h.html#a385b5b586c09dd03f1065cd0105daa6d">LV2_State_Handle</a> handle, <a class="el" href="mid_8cpp.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> flags, <a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> <a class="el" href="structLV2__Feature.html">LV2_Feature</a> *<a class="el" href="zconf_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> *features)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Save plugin state using a host-provided <code class="param">store</code> callback.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>The instance handle of the plugin. </td></tr>
    <tr><td class="paramname">store</td><td>The host-provided store callback. </td></tr>
    <tr><td class="paramname">handle</td><td>An opaque pointer to host data which MUST be passed as the handle parameter to <code class="param">store</code> if it is called. </td></tr>
    <tr><td class="paramname">flags</td><td>Flags describing desired properties of this save. These flags may be used to determine the most appropriate values to store. </td></tr>
    <tr><td class="paramname">features</td><td>Extensible parameter for passing any additional features to be used for this save.</td></tr>
  </table>
  </dd>
</dl>
<p>The plugin is expected to store everything necessary to completely restore its state later. Plugins SHOULD store simple POD data whenever possible, and consider the possibility of state being restored much later on a different machine.</p>
<p>The <code class="param">handle</code> pointer and <code class="param">store</code> function MUST NOT be used beyond the scope of <a class="el" href="#ae564742663a6d908d9745c9eb8bdb347">save()</a>.</p>
<p>This function has its own special threading class: it may not be called concurrently with any "Instantiation" function, but it may be called concurrently with functions in any other class, unless the definition of that class prohibits it (e.g. it may not be called concurrently with a "Discovery" function, but it may be called concurrently with an "Audio" function. The plugin is responsible for any locking or lock-free techniques necessary to make this possible.</p>
<p>Note that in the simple case where state is only modified by <a class="el" href="#af1b48ea50175bfef63d4dd35d09d90b8">restore()</a>, there are no synchronization issues since <a class="el" href="#ae564742663a6d908d9745c9eb8bdb347">save()</a> is never called concurrently with <a class="el" href="#af1b48ea50175bfef63d4dd35d09d90b8">restore()</a> (though run() may read it during a save).</p>
<p>Plugins that dynamically modify state while running, however, must take care to do so in such a way that a concurrent call to <a class="el" href="#ae564742663a6d908d9745c9eb8bdb347">save()</a> will save a consistent representation of plugin state for a single instant in time. </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>plugins/LadspaEffect/calf/veal/src/calf/<a class="el" href="lv2__state_8h_source.html">lv2_state.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="struct__LV2__State__Interface.html">_LV2_State_Interface</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.15.0 </li>
  </ul>
</div>
</body>
</html>
